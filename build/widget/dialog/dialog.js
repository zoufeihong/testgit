var lnv=lnv||{};!function(){function n(){this.cfg={content:"",title:"",alertBtnText:"确定",alertHandler:null,confirmBtnText:"确定",confirmHandler:null,cancelBtnText:"取消",cancelHandler:null},this.handlers={}}n.prototype={render:function(){var n="";switch(this.cfg.type){case"alert":n='<a class="lnv-btn-dialog primary alert-btn" href="javascript:;">'+this.cfg.alertBtnText+"</a>";break;case"confirm":n='<a class="lnv-btn-dialog default cancel-btn" href="javascript:;">'+this.cfg.cancelBtnText+'</a><a class="lnv-btn-dialog primary confirm-btn" href="javascript:;">'+this.cfg.confirmBtnText+"</a>"}this.boundingBox=$('<div id="dialog" class="lnv-dialog-'+this.cfg.type+'"><div class="lnv-mask"></div><div class="lnv-dialog"><div class="lnv-dialog-hd"><strong class="lnv-dialog-title">'+this.cfg.title+'</strong></div><div class="lnv-dialog-bd">'+this.cfg.content+'</div><div class="lnv-dialog-ft">'+n+"</div></div></div>"),$("body").append(this.boundingBox),this.handlers={},this.bind()},bind:function(){var n=this;this.boundingBox.on("click",".alert-btn",function(){n.fire("alert"),n.destroy()}).on("click",".cancel-btn",function(){n.fire("cancel"),n.destroy()}).on("click",".confirm-btn",function(){n.fire("confirm"),n.destroy()}),this.cfg.alertHandler&&this.on("alert",this.cfg.alertHandler),this.cfg.confirmHandler&&this.on("confirm",this.cfg.confirmHandler),this.cfg.cancelHandler&&this.on("cancel",this.cfg.cancelHandler)},alert:function(n){return $.extend(this.cfg,n,{type:"alert"}),this.render(),this},confirm:function(n){return $.extend(this.cfg,n,{type:"confirm"}),this.render(),this},destroy:function(){this.boundingBox.remove()},on:function(n,t){return"undefined"==typeof this.handlers[n]&&(this.handlers[n]=[]),this.handlers[n].push(t),this},fire:function(n,t){if(this.handlers[n]instanceof Array)for(var i=this.handlers[n],e=0,r=i.length;e<r;e++)i[e](t)}},lnv.alert=function(t){return(new n).alert(t)},lnv.confirm=function(t){return(new n).confirm(t)}}();